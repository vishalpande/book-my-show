{"ast":null,"code":"//adding all the componets that are needed.\nimport LastBookingDetails from\"../components/LastBookingDetails\";import SelectMovie from\"../components/SelectMovie\";import SelectSeats from\"../components/SelectSeats\";import TimeShedule from\"../components/TimeShedule\";import Modal from\"../components/ModalComponent\";import\"../Css/Home.css\";import BsContext from\"../Context/BsContext\";import{useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(props){var context=useContext(BsContext);var movie=context.movie,time=context.time,noOfSeat=context.noOfSeat,handlePostBooking=context.handlePostBooking,setErrorPopup=context.setErrorPopup,setErrorMessage=context.setErrorMessage;//check whether any seat has a negative value\nvar checkNegativeSeatsValidity=function checkNegativeSeatsValidity(seats){for(var seat in seats){if(Number(seats[seat])<0){return true;}}return false;};//check whether all seats have input 0\nvar checkZeroSeatsValidity=function checkZeroSeatsValidity(seats){for(var seat in seats){if(Number(seats[seat])>0){return false;}}return true;};//validating the user selection and then making post request to save the booking details\nvar handleBookNow=function handleBookNow(){if(!movie){setErrorPopup(true);setErrorMessage(\"Please select  a movie!\");}else if(!time){setErrorPopup(true);setErrorMessage(\"Please select a time slot!\");}else if(checkNegativeSeatsValidity(noOfSeat)||checkZeroSeatsValidity(noOfSeat)){setErrorPopup(true);setErrorMessage(\"Invalid Seats!\");}else{//validation successfull\nhandlePostBooking();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"selection_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"select_movie_component\",children:/*#__PURE__*/_jsx(SelectMovie,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"last_booking_details_container\",children:/*#__PURE__*/_jsx(LastBookingDetails,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time_seats_container\",children:[/*#__PURE__*/_jsx(TimeShedule,{}),/*#__PURE__*/_jsx(SelectSeats,{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleBookNow();},className:\"BN-btn \",children:\"Book Now\"})]})]})})]});};export default Home;","map":{"version":3,"names":["LastBookingDetails","SelectMovie","SelectSeats","TimeShedule","Modal","BsContext","useContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","props","context","movie","time","noOfSeat","handlePostBooking","setErrorPopup","setErrorMessage","checkNegativeSeatsValidity","seats","seat","Number","checkZeroSeatsValidity","handleBookNow","children","className","onClick"],"sources":["C:/Users/pande/OneDrive/Desktop/Book-My-Show/frontend/src/Pages/Home.js"],"sourcesContent":["\n//adding all the componets that are needed.\n\nimport LastBookingDetails from \"../components/LastBookingDetails\"\nimport SelectMovie from \"../components/SelectMovie\";\nimport SelectSeats from \"../components/SelectSeats\";\nimport TimeShedule from \"../components/TimeShedule\";\nimport Modal from \"../components/ModalComponent\";\nimport \"../Css/Home.css\";\nimport BsContext from \"../Context/BsContext\";\nimport { useContext } from \"react\";\n\nconst Home = (props) => {\n  const context = useContext(BsContext);\n  const {\n    movie,\n    time,\n    noOfSeat,\n    handlePostBooking,\n    setErrorPopup,\n    setErrorMessage,\n  } = context;\n\n  //check whether any seat has a negative value\n  const checkNegativeSeatsValidity = (seats) => {\n    for (let seat in seats) {\n      if (Number(seats[seat]) < 0) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  //check whether all seats have input 0\n  const checkZeroSeatsValidity = (seats) => {\n    for (let seat in seats) {\n      if (Number(seats[seat]) > 0) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  //validating the user selection and then making post request to save the booking details\n  const handleBookNow = () => {\n    if (!movie) {\n      setErrorPopup(true);\n      setErrorMessage(\"Please select  a movie!\");\n    } else if (!time) {\n      setErrorPopup(true);\n      setErrorMessage(\"Please select a time slot!\");\n    } else if (\n      checkNegativeSeatsValidity(noOfSeat) ||\n      checkZeroSeatsValidity(noOfSeat)\n    ) {\n      setErrorPopup(true);\n      setErrorMessage(\"Invalid Seats!\");\n    } else {\n      //validation successfull\n      handlePostBooking();\n    }\n  };\n\n  return (\n    <>\n      <Modal />\n      <div className=\"container\">\n        <div className=\"selection_container\">\n          <div className=\"wrapper\">\n            <div className=\"select_movie_component\">\n              <SelectMovie />\n            </div>\n            <div className=\"last_booking_details_container\">\n              <LastBookingDetails />\n            </div>\n          </div>\n          <div className=\"time_seats_container\">\n            <TimeShedule />\n            <SelectSeats />\n            <button\n              onClick={() => {\n                handleBookNow();\n              }}\n              className=\"BN-btn \">\n              Book Now\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}